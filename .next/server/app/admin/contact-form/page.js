(()=>{var e={};e.id=8670,e.ids=[8670],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7687:(e,t,r)=>{Promise.resolve().then(r.bind(r,16214))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16214:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\nextjsapps\\\\riveagit\\\\src\\\\app\\\\admin\\\\contact-form\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\nextjsapps\\riveagit\\src\\app\\admin\\contact-form\\page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},61961:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(60687),n=r(43210),a=r(16189);r(63787),r(15659);let i="http://localhost:8181/api",o=async(e,t,r,s,n)=>(await fetch(i+`/contact-form?search=${e}&page=${t}&limit=${r}&sortColumn=${s}&sortOrder=${n}`,{credentials:"include"})).json(),d=async e=>(await fetch(`${i}/contact-form/delete/${e}`,{method:"DELETE",credentials:"include"})).json();var l=r(75073),c=r(84840),h=r(72998),m=r(89457),x=r(8222),p=r(55231),u=r(85922),j=r(92388),f=r(90303),g=r(36248),v=r.n(g);function b(){let[e,t]=(0,n.useState)(null);(0,a.useRouter)();let[r,i]=(0,n.useState)([]),[g,b]=(0,n.useState)(null),[y,A]=(0,n.useState)(null),[w,S]=(0,n.useState)(!1),[P,C]=(0,n.useState)(!0),[N,D]=(0,n.useState)(0),[_,k]=(0,n.useState)(1),[q,E]=(0,n.useState)(10),[R,H]=(0,n.useState)("createdAt"),[M,T]=(0,n.useState)("desc"),[$,F]=(0,n.useState)(""),G=()=>S(!1),z=()=>S(!0),B=async e=>{try{let t=await d(e);!1==t.success?x.oR.error(t.error):(x.oR.success("Contact form entry deleted successfully."),Y(_,q,R,M))}catch(e){b("error deleting page"),console.error(e)}},K=e=>{A(e),z()},Y=async(e=1,t=10,r="createdAt",s="desc",n="")=>{C(!0);try{o(n,e,t,r,s).then(e=>{e.data&&(i(e.data),D(e.total)),C(!1)})}catch(e){console.error("Error fetching users:",e)}finally{C(!1)}},O=[{name:"Name",selector:e=>e.name,sortable:!0,sortKey:"name"},{name:"Phone",selector:e=>e.phone},{name:"Department/Schedule",selector:e=>e.department},{name:"Message",selector:e=>e.message},{name:"Date",selector:e=>e.date,sortable:!0,sortKey:"date"},{name:"Time",selector:e=>e.time},{name:"Submission Date",cell:e=>(0,s.jsx)(s.Fragment,{children:v()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")}),sortable:!0,sortKey:"createdAt"},{name:"Actions",cell:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"btn text-primary",onClick:()=>K(e),children:(0,s.jsx)("i",{className:"fa fas fa-eye"})}),(0,s.jsx)(m.A,{id:e._id,onDelete:B,msg:"Are you sure you want to delete this entry?"})]})}];return P?(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100",children:(0,s.jsx)(p.A,{animation:"border",variant:"primary"})}):(0,s.jsxs)("div",{id:"wrapper",children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:(0,s.jsxs)("div",{id:"content",children:[(0,s.jsx)(h.A,{}),(0,s.jsxs)("div",{className:"container-fluid",children:[(0,s.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[(0,s.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Contact Submissions"}),(0,s.jsx)("div",{children:(0,s.jsxs)("form",{className:"search-form admin-search",children:[(0,s.jsx)("input",{type:"text",onChange:e=>{F(e.target.value)},name:"search",placeholder:"Search"}),(0,s.jsx)("button",{type:"button",className:"search_btn",children:(0,s.jsx)("img",{src:"/images/icon-search.svg"})})]})})]}),(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-xl-12 col-md-12 mb-4",children:(0,s.jsxs)("div",{className:"card shadow mb-4",children:[(0,s.jsx)("div",{className:"card-header py-3 d-flex justify-content-between",children:(0,s.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Contact Submissions"})}),(0,s.jsx)("div",{className:"card-body p-0",children:(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsx)(f.Ay,{columns:O,data:r,pagination:!0,paginationServer:!0,paginationTotalRows:N,paginationPerPage:q,onChangePage:e=>{k(e)},onChangeRowsPerPage:(e,t)=>{E(e),k(t)},onSort:(e,t)=>{H(e.sortKey),T(t)},sortServer:!0,highlightOnHover:!0,striped:!0,customStyles:{headCells:{style:{backgroundColor:"#fff",color:"#858796",fontSize:"16px",fontWeight:"bold",padding:"12px"}},cells:{style:{fontSize:"14px"}},rows:{style:{fontSize:"14px",borderBottom:"1px solid #ddd","&:hover":{backgroundColor:"#f1f1f1"}}}}})})})]})})})]}),(0,s.jsx)(c.A,{})]})}),(0,s.jsxs)(u.A,{show:w,onHide:G,children:[(0,s.jsx)(u.A.Header,{closeButton:!0,children:(0,s.jsx)(u.A.Title,{children:"Submitted Details"})}),(0,s.jsx)(u.A.Body,{children:y?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("table",{className:"table table-bordered",children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Name:"})}),(0,s.jsx)("td",{width:"70%",children:y.name})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Email:"})}),(0,s.jsx)("td",{children:y.email})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Phone:"})}),(0,s.jsx)("td",{children:y.phone})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Department/Schedule:"})}),(0,s.jsx)("td",{children:y.department})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Date:"})}),(0,s.jsx)("td",{children:y?.date})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Time:"})}),(0,s.jsx)("td",{children:y?.time})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Message:"})}),(0,s.jsx)("td",{children:y.message})]})]})})}):(0,s.jsx)("p",{children:"No details available."})}),(0,s.jsx)(u.A.Footer,{children:(0,s.jsx)(j.A,{variant:"secondary",onClick:G,children:"Close"})})]})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65923:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>m,tree:()=>l});var s=r(65239),n=r(48088),a=r(88170),i=r.n(a),o=r(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l={children:["",{children:["admin",{children:["contact-form",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,16214)),"D:\\nextjsapps\\riveagit\\src\\app\\admin\\contact-form\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99111)),"D:\\nextjsapps\\riveagit\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"D:\\nextjsapps\\riveagit\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\nextjsapps\\riveagit\\src\\app\\admin\\contact-form\\page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/contact-form/page",pathname:"/admin/contact-form",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},79551:e=>{"use strict";e.exports=require("url")},89457:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(60687),n=r(43210),a=r(85922),i=r(92388);function o({id:e,msg:t,onDelete:r}){let[o,d]=(0,n.useState)(!1),l=()=>d(!1),c=async()=>{await r(e),l()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>d(!0),className:"btn text-danger",children:(0,s.jsx)("i",{className:"fa fas fa-trash"})}),(0,s.jsxs)(a.A,{show:o,onHide:l,centered:!0,children:[(0,s.jsx)(a.A.Header,{closeButton:!0,children:(0,s.jsx)(a.A.Title,{children:"Confirm Delete"})}),(0,s.jsx)(a.A.Body,{children:t}),(0,s.jsxs)(a.A.Footer,{children:[(0,s.jsx)(i.A,{variant:"secondary",onClick:l,children:"Cancel"}),(0,s.jsx)(i.A,{variant:"danger",onClick:c,children:"Delete"})]})]})]})}},89535:(e,t,r)=>{Promise.resolve().then(r.bind(r,61961))}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,7252,7934,3481,6457,6248,3948],()=>r(65923));module.exports=s})();