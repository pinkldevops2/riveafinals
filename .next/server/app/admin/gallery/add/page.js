(()=>{var e={};e.id=4687,e.ids=[4687],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6071:(e,a,r)=>{"use strict";r.d(a,{Ob:()=>n,X1:()=>i,cV:()=>d,x3:()=>l,z0:()=>s});let t="http://localhost:8181/api",l=async(e,a,r,l)=>(await fetch(t+`/gallery?page=${e}&limit=${a}&sortColumn=${r}&sortOrder=${l}`,{credentials:"include"})).json(),s=async e=>(await fetch(`${t}/gallery/${e}`,{credentials:"include"})).json(),i=async e=>{let a=new FormData;return a.append("type",e.type),a.append("order",e.order),"image"==e.type&&e.galleryPhoto&&e.galleryPhoto.length>0&&a.append("file",e.galleryPhoto[0]),"video"==e.type&&(e.galleryVideo&&e.galleryVideo.length>0&&a.append("video",e.galleryVideo[0]),e.galleryVideoPoster&&e.galleryVideoPoster.length>0&&a.append("videoPoster",e.galleryVideoPoster[0])),(await fetch(`${t}/gallery/create`,{method:"POST",credentials:"include",body:a})).json()},n=async(e,a)=>{let r=new FormData;return r.append("type",a.type),r.append("order",a.order),console.log("-11->",a),"image"==a.type&&a.galleryPhoto&&a.galleryPhoto.length>0&&r.append("file",a.galleryPhoto[0]),"video"==a.type&&(a.galleryVideo&&a.galleryVideo.length>0&&r.append("video",a.galleryVideo[0]),a.galleryVideoPoster&&a.galleryVideoPoster.length>0&&r.append("videoPoster",a.galleryVideoPoster[0])),(await fetch(`${t}/gallery/update/${e}`,{method:"PUT",credentials:"include",body:r})).json()},d=async e=>(await fetch(`${t}/gallery/delete/${e}`,{method:"DELETE",credentials:"include"})).json()},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19749:(e,a,r)=>{Promise.resolve().then(r.bind(r,84241))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32901:(e,a,r)=>{Promise.resolve().then(r.bind(r,34899))},33873:e=>{"use strict";e.exports=require("path")},34899:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>p});var t=r(60687),l=r(43210),s=r(16189);r(63787);var i=r(75073),n=r(84840),d=r(72998),o=r(6071),c=r(36576),m=r(8222);function p(){let[e,a]=(0,l.useState)(null),r=(0,s.useRouter)(),[p,g]=(0,l.useState)(!1),[u,h]=(0,l.useState)(null),[x,y]=(0,l.useState)({type:"",photo:null,image:"",video:"",videoPoster:"",order:"0"}),v=async e=>{try{g(!0),h(null),await (0,o.X1)(e).then(e=>{e.error?(m.oR.error(e.error),h(e.error||"Failed to create a image in gallery")):(m.oR.success("Image added successfully in gallery ."),r.push("/admin/gallery"))})}catch(e){m.oR.error("Failed to create a image in gallery")}finally{g(!1)}};return(0,t.jsxs)("div",{id:"wrapper",children:[(0,t.jsx)(i.A,{}),(0,t.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:(0,t.jsxs)("div",{id:"content",children:[(0,t.jsx)(d.A,{}),(0,t.jsxs)("div",{className:"container-fluid",children:[(0,t.jsx)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,t.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Add Image"})}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-xl-12 col-md-12 mb-12",children:(0,t.jsx)("div",{className:"card border-left-primary shadow h-100 py-2",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(c.A,{initialData:x,onSubmit:v,isSubmitting:p})})})})})]}),(0,t.jsx)(n.A,{})]})})]})}},36576:(e,a,r)=>{"use strict";r.d(a,{A:()=>c});var t=r(60687),l=r(27605),s=r(43210),i=r(44834),n=r(85814),d=r.n(n);let o="http://localhost:8181",c=({initialData:e,onSubmit:a,isSubmitting:r})=>{let{register:n,handleSubmit:c,setError:m,control:p,reset:g,formState:{errors:u}}=(0,l.mN)({defaultValues:e||{type:"",galleryPhoto:null,galleryVideo:null,galleryVideoPoster:null,image:"",video:"",videoPoster:"",order:"0"}}),h=[{value:"image",label:"Image"},{value:"video",label:"Video"}],[x,y]=(0,s.useState)(null),[v,j]=(0,s.useState)(null),[b,f]=(0,s.useState)(null),[P,N]=(0,s.useState)(e?.type||"image"),w=e=>{let a=e.target.files?.[0];if(a){let r=e.target.name,t=URL.createObjectURL(a);"galleryPhoto"==r&&y(t),"galleryVideoPoster"==r&&f(t)}},V=e=>a=>{e(a?.value??null),N(a?.value)};return(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("form",{onSubmit:c(e=>{a(e)}),encType:"multipart/form-data",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"type",className:"form-label",children:"Type *"}),(0,t.jsx)(l.xI,{name:"type",control:p,rules:{required:"Type is required"},render:({field:e})=>(0,t.jsx)(i.Ay,{...e,options:h,value:h.find(a=>a.value===e.value)||null,onChange:V(e.onChange),placeholder:"Select Type"})}),u.type&&(0,t.jsx)("small",{className:"text-danger",children:u.type?.message?.toString()})]}),"image"==P&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"image",className:"form-label",children:"Image *"}),(0,t.jsxs)("div",{className:"btn-main-box",children:[(0,t.jsx)("input",{type:"file",className:"file-input",...n("galleryPhoto",{required:!(x||e?.image)&&"Image is required"}),onChange:w}),(0,t.jsx)("div",{className:"btn-box",children:"Upload Image"})]}),x&&(0,t.jsx)("img",{src:x,alt:"Image Preview",className:"mt-3",width:100}),!x&&e&&e.image&&(0,t.jsx)("img",{src:o+"/"+e.image,alt:"Image Preview",className:"mt-3",width:100}),!x&&u.galleryPhoto&&(0,t.jsx)("small",{className:"text-danger",children:u.galleryPhoto?.message?.toString()})]}),(0,t.jsxs)("div",{className:"row",children:["video"==P&&(0,t.jsxs)("div",{className:"mb-3 col-md-4",children:[(0,t.jsx)("label",{className:"form-label",children:"Video"}),(0,t.jsxs)("div",{className:"btn-main-box",children:[(0,t.jsx)("input",{type:"file",className:"file-input",accept:"video/*",...n("galleryVideo",{required:!(v||e?.video)&&"Video is required"}),onChange:e=>{let a=e.target.files?.[0];a&&j(URL.createObjectURL(a))}}),(0,t.jsx)("div",{className:"btn-box",children:"Upload Video"})]}),v&&(0,t.jsx)("div",{className:"video-preview mt-3",children:(0,t.jsx)("video",{src:v,controls:!0,width:320,height:240,className:"rounded shadow-md"})}),!v&&e&&e.video&&(0,t.jsx)("div",{className:"video-preview mt-3",children:(0,t.jsx)("video",{src:o+"/"+e.video,controls:!0,width:320,height:240,className:"rounded shadow-md"})}),!v&&u.galleryVideo&&(0,t.jsx)("small",{className:"text-danger",children:u.galleryVideo?.message?.toString()})]}),"video"==P&&(0,t.jsxs)("div",{className:"mb-3 col-md-4",children:[(0,t.jsx)("label",{className:"form-label",children:"Poster Image"}),(0,t.jsxs)("div",{className:"btn-main-box",children:[(0,t.jsx)("input",{type:"file",className:"file-input",...n("galleryVideoPoster",{required:!(b||e?.videoPoster)&&"Poster is required"}),onChange:w}),(0,t.jsx)("div",{className:"btn-box",children:"Upload Image"})]}),b&&(0,t.jsx)("img",{src:b,alt:"Poster Preview",className:"mt-3",width:100}),!b&&e&&e.videoPoster&&(0,t.jsx)("img",{src:o+"/"+e.videoPoster,alt:"Poster Preview",className:"mt-3",width:100}),!b&&u.galleryVideoPoster&&(0,t.jsx)("small",{className:"text-danger",children:u.galleryVideoPoster?.message?.toString()})]})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label",children:"Order"}),(0,t.jsx)("input",{type:"number",min:"0",className:"form-control",...n("order",{})}),u.order&&(0,t.jsx)("small",{className:"text-danger",children:u.order?.message?.toString()})]}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary me-2",disabled:r,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):"Save"}),(0,t.jsx)(d(),{className:"btn btn-outline-secondary ml-2",href:"/admin/gallery/",children:"Cancel"})]})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63097:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o});var t=r(65239),l=r(48088),s=r(88170),i=r.n(s),n=r(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(a,d);let o={children:["",{children:["admin",{children:["gallery",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,84241)),"D:\\nextjsapps\\riveagit\\src\\app\\admin\\gallery\\add\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99111)),"D:\\nextjsapps\\riveagit\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"D:\\nextjsapps\\riveagit\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\nextjsapps\\riveagit\\src\\app\\admin\\gallery\\add\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/admin/gallery/add/page",pathname:"/admin/gallery/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79551:e=>{"use strict";e.exports=require("url")},84241:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\nextjsapps\\\\riveagit\\\\src\\\\app\\\\admin\\\\gallery\\\\add\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\nextjsapps\\riveagit\\src\\app\\admin\\gallery\\add\\page.tsx","default")}};var a=require("../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[4447,7252,7934,3481,7605,6354,3948],()=>r(63097));module.exports=t})();