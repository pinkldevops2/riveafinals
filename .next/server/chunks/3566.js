"use strict";exports.id=3566,exports.ids=[3566],exports.modules={18240:(e,t,a)=>{a.d(t,{FN:()=>n,YE:()=>i,gF:()=>l,h8:()=>d,yE:()=>r});let s="http://localhost:8181/api",l=async(e,t,a,l,r)=>(await fetch(s+`/case-studies?search=${e}&page=${t}&limit=${a}&sortColumn=${l}&sortOrder=${r}`,{credentials:"include"})).json(),r=async e=>(await fetch(`${s}/case-studies/${e}`,{credentials:"include"})).json(),i=async e=>{let t=new FormData;return t.append("title",e.title),t.append("subTitle",e.subTitle),t.append("description",e.description),t.append("metaTitle",e.metaTitle),t.append("metaDescription",e.metaDescription),t.append("typeId",e.typeId),t.append("categoryId",e.categoryId),t.append("order",e.order),e.photo&&e.photo.length>0&&t.append("file",e.photo[0]),(await fetch(`${s}/case-studies/create`,{method:"POST",credentials:"include",body:t})).json()},d=async(e,t)=>{let a=new FormData;return a.append("title",t.title),a.append("subTitle",t.subTitle),a.append("description",t.description),a.append("metaTitle",t.metaTitle),a.append("metaDescription",t.metaDescription),a.append("typeId",t.typeId),a.append("categoryId",t.categoryId),a.append("order",t.order),t.photo&&t.photo.length>0&&a.append("file",t.photo[0]),a.append("slug",t.slug),(await fetch(`${s}/case-studies/update/${e}`,{method:"PUT",credentials:"include",body:a})).json()},n=async e=>(await fetch(`${s}/case-studies/delete/${e}`,{method:"DELETE",credentials:"include"})).json()},29755:(e,t,a)=>{a.d(t,{A:()=>p});var s=a(60687),l=a(43210),r=a(27605),i=a(44834),d=a(49588),n=a(85814),c=a.n(n),o=a(74189),m=a(8222);let p=({initialData:e,onSubmit:t,isSubmitting:a})=>{let{register:n,handleSubmit:p,setError:u,control:h,reset:g,getValues:y,setValue:x,formState:{errors:j}}=(0,r.mN)({defaultValues:e||{title:"",subTitle:"",description:"",metaTitle:"",metaDescription:"",photo:null,image:"",order:"0",slug:"",typeId:"",categoryId:""}}),[b,N]=(0,l.useState)(""),[f,v]=(0,l.useState)(null),[T,I]=(0,l.useState)([]),[S,$]=(0,l.useState)([]);(0,l.useEffect)(()=>{(0,d.a0)().then(e=>{e.error?m.oR.error(e.error):e.data&&e.data.length>0?$(e.data.map(e=>({value:e._id,label:e.type}))):u("typeId",{type:"manual",message:"No type id is added in case study type"})}),e&&""!==e.typeId&&D(e?.typeId),e&&e.description&&N(e.description)},[]),(0,l.useEffect)(()=>{x("description",b)},[b]);let w=e=>t=>{e(t?.value??null),t?.value?D(t?.value):I([])},D=e=>{(0,d.e6)(e).then(e=>{e.error?m.oR.error(e.error):e.data&&e.data.length>0?I(e.data.map(e=>({value:e._id,label:e.name}))):u("categoryId",{type:"manual",message:"No categories were added in case-study"})})};return(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("form",{onSubmit:p(e=>{t(e)}),encType:"multipart/form-data",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"typeId",className:"form-label",children:"Case Study Type *"}),S.length>0&&(0,s.jsx)(r.xI,{name:"typeId",control:h,rules:{required:"Case Study Type is required"},render:({field:e})=>(0,s.jsx)(i.Ay,{...e,options:S,value:S.find(t=>t.value===e.value)||null,onChange:w(e.onChange),placeholder:"Select Type"})}),j.typeId&&(0,s.jsx)("small",{className:"text-danger",children:j.typeId?.message?.toString()})]}),T.length>0&&(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"categoryId",className:"form-label",children:"Category *"}),(0,s.jsx)(r.xI,{name:"categoryId",control:h,rules:{required:"Category is required"},render:({field:e})=>(0,s.jsx)(i.Ay,{...e,options:T||[],value:T.find(t=>t.value===e.value)||null,onChange:t=>e.onChange(t?.value),placeholder:"Select Category"})}),j.categoryId&&(0,s.jsx)("small",{className:"text-danger",children:j.categoryId?.message?.toString()})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title *"}),(0,s.jsx)("input",{type:"text",className:"form-control",...n("title",{required:"Title is required",minLength:{value:3,message:"Must be at least 3 characters"}})}),j.title&&(0,s.jsx)("small",{className:"text-danger",children:j.title?.message?.toString()})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"subTitle",className:"form-label",children:"Sub-Title *"}),(0,s.jsx)("input",{type:"text",className:"form-control",...n("subTitle",{required:"Sub-Title is required"})}),j.subTitle&&(0,s.jsx)("small",{className:"text-danger",children:j.subTitle?.message?.toString()})]}),e&&""!==e.slug&&(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"slug",className:"form-label",children:"Slug *"}),(0,s.jsx)("input",{type:"text",className:"form-control",...n("slug",{required:"Slug is required"})}),j.slug&&(0,s.jsx)("small",{className:"text-danger",children:j.slug?.message?.toString()})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"photo",className:"form-label",children:"Image *"}),(0,s.jsxs)("div",{className:"btn-main-box",children:[(0,s.jsx)("input",{type:"file",className:"file-input",...n("photo",{required:!(f||e?.image)&&"Image is required"}),onChange:e=>{let t=e.target.files?.[0];t&&(e.target.name,v(URL.createObjectURL(t)))}}),(0,s.jsx)("div",{className:"btn-box",children:"Upload Image"})]}),f&&(0,s.jsx)("img",{src:f,alt:"Image Preview",className:"mt-3",width:100}),!f&&e&&e.image&&(0,s.jsx)("img",{src:"http://localhost:8181/"+e.image,alt:"Image Preview",className:"mt-3",width:100}),!f&&j.photo&&(0,s.jsx)("small",{className:"text-danger",children:j.photo?.message?.toString()})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description "}),(0,s.jsx)(o.A,{value:y("description"),onChange:N}),j.description&&(0,s.jsx)("small",{className:"text-danger",children:j.description?.message?.toString()})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"order",className:"form-label",children:"Order"}),(0,s.jsx)("input",{type:"number",min:"0",className:"form-control",...n("order",{})}),j.order&&(0,s.jsx)("small",{className:"text-danger",children:j.order?.message?.toString()})]}),(0,s.jsx)("div",{className:"row mb-3",children:(0,s.jsxs)("div",{className:"col-md-12",children:[(0,s.jsx)("label",{htmlFor:"metaTitle",className:"form-label",children:"Meta Title *"}),(0,s.jsx)("input",{type:"text",className:"form-control",placeholder:"Meta Title",...n("metaTitle",{required:"Meta Title is required."})}),j.metaTitle&&(0,s.jsx)("p",{className:"text-red-500",children:j.metaTitle?.message?.toString()})]})}),(0,s.jsx)("div",{className:"row mb-3",children:(0,s.jsxs)("div",{className:"col-md-12",children:[(0,s.jsx)("label",{htmlFor:"metaDescription",className:"form-label",children:"Meta Description *"}),(0,s.jsx)("textarea",{className:"form-control",placeholder:"Meta Description",...n("metaDescription",{required:"Meta Description is required."})}),j.metaDescription&&(0,s.jsx)("p",{className:"text-red-500",children:j.metaDescription?.message?.toString()})]})}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary me-2",disabled:a,children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):"Save"}),(0,s.jsx)(c(),{className:"btn btn-outline-secondary ml-2",href:"/admin/case-study/",children:"Cancel"})]})})}},49588:(e,t,a)=>{a.d(t,{$s:()=>r,K7:()=>n,a0:()=>c,bW:()=>l,e6:()=>o,st:()=>d,zZ:()=>i});let s="http://localhost:8181/api",l=async(e,t,a,l,r)=>(await fetch(s+`/case-study-category?search=${e}&page=${t}&limit=${a}&sortColumn=${l}&sortOrder=${r}`,{credentials:"include"})).json(),r=async e=>(await fetch(`${s}/case-study-category/${e}`,{credentials:"include"})).json(),i=async e=>{let t=new FormData;return t.append("typeId",e.typeId),t.append("name",e.name),t.append("order",e.order),t.append("description",e.description),(await fetch(`${s}/case-study-category/create`,{method:"POST",credentials:"include",body:t})).json()},d=async(e,t)=>{let a=new FormData;return a.append("typeId",t.typeId),a.append("name",t.name),a.append("order",t.order),a.append("description",t.description),(await fetch(`${s}/case-study-category/update/${e}`,{method:"PUT",credentials:"include",body:a})).json()},n=async e=>(await fetch(`${s}/case-study-category/delete/${e}`,{method:"DELETE",credentials:"include"})).json(),c=async e=>(await fetch(`${s}/all-case-study-type`)).json(),o=async e=>(await fetch(`${s}/case-study-category-by-type/${e}`,{credentials:"include"})).json()},74189:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(60687),l=a(43210);function r({value:e,onChange:t}){let a=(0,l.useRef)(null);return(0,s.jsx)("textarea",{id:"editor",ref:a,defaultValue:e})}}};