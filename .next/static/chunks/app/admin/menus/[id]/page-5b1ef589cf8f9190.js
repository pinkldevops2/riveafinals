(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1433],{1867:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(9300),a=n.n(r),s=n(2115),l=n(7390),o=n(5155);let i=s.forwardRef((e,t)=>{let{bsPrefix:n,variant:r,animation:s="border",size:i,as:c="div",className:d,...u}=e;n=(0,l.oU)(n,"spinner");let m="".concat(n,"-").concat(s);return(0,o.jsx)(c,{ref:t,...u,className:a()(d,m,i&&"".concat(m,"-").concat(i),r&&"text-".concat(r))})});i.displayName="Spinner";let c=i},2079:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(5155),a=n(2115),s=n(5695),l=n(8835),o=n(4751),i=n(5828),c=n(7478),d=n(3475),u=n(6305),m=n(5799);function h(){let[e,t]=(0,a.useState)(null),n=(0,s.useRouter)(),[h,f]=(0,a.useState)(null),[p,x]=(0,a.useState)(!0),[v,j]=(0,a.useState)(!1),[b,g]=(0,a.useState)(null),{id:y}=(0,s.useParams)();(0,a.useEffect)(()=>{(async()=>{try{x(!0);let e=await (0,d.g$)(y);f(e.data),g(null)}catch(e){g("Failed to fetch page data"),console.error(e)}finally{x(!1)}})()},[y]);let N=async e=>{try{j(!0),g(null),await (0,d.lH)(y,e);let t=await (0,d.g$)(y);f(t.data),m.oR.success("Menu updated successfully."),n.push("/admin/menus")}catch(e){g(e.message||"Failed to update page"),console.error(e)}finally{j(!1)}};return((0,a.useEffect)(()=>{(0,l.E$)().then(e=>{e.error?n.push("/admin/login"):t(e)})},[]),p)?(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"d-flex justify-content-center my-5",children:(0,r.jsx)("div",{className:"spinner-border",role:"status",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):(0,r.jsxs)("div",{id:"wrapper",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:(0,r.jsxs)("div",{id:"content",children:[(0,r.jsx)(c.A,{}),(0,r.jsxs)("div",{className:"container-fluid",children:[(0,r.jsx)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,r.jsxs)("h1",{className:"h3",children:[" Edit Menu: ",null==h?void 0:h.title]})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-xl-12 col-md-12 mb-12",children:(0,r.jsx)("div",{className:"card border-left-primary shadow h-100 py-2",children:(0,r.jsx)("div",{className:"card-body",children:(0,r.jsx)(u.A,{initialData:h,onSubmit:N,isSubmitting:v})})})})})]}),(0,r.jsx)(i.A,{})]})})]})}},3475:(e,t,n)=>{"use strict";n.d(t,{Aj:()=>a,ES:()=>l,fd:()=>i,g$:()=>s,lH:()=>o});let r="http://localhost:8181/api",a=async(e,t,n,a,s)=>(await fetch(r+"/menus?location="+e+"&page=".concat(t,"&limit=").concat(n,"&sortColumn=").concat(a,"&sortOrder=").concat(s),{credentials:"include"})).json(),s=async e=>(await fetch("".concat(r,"/menus/").concat(e),{credentials:"include"})).json(),l=async e=>(await fetch("".concat(r,"/menus/create"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),o=async(e,t)=>(await fetch("".concat(r,"/menus/update/").concat(e),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json(),i=async e=>(await fetch("".concat(r,"/menus/delete/").concat(e),{method:"DELETE",credentials:"include"})).json()},6305:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5155),a=n(2115);let s=e=>{let{initialData:t,onSubmit:n,isSubmitting:s}=e,[l,o]=(0,a.useState)({location:"sidebar",title:"",url:"",targetWindow:!1,targetColumn:"",order:0,...t}),[i,c]=(0,a.useState)("");(0,a.useEffect)(()=>{t&&(o({...t}),c(l.content))},[t]),(0,a.useEffect)(()=>{i&&o({...l,content:i})},[i]);let d=e=>{let{name:t,value:n,type:r}=e.target;if("checkbox"===r){let n=e.target;o({...l,[t]:n.checked})}else o({...l,[t]:n})};return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(l)},children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location *"}),(0,r.jsxs)("select",{className:"form-control",onChange:d,id:"location",name:"location",value:l.location||"",children:[(0,r.jsx)("option",{value:"top",children:"Top"}),(0,r.jsx)("option",{value:"sidebar",children:"Sidebar"}),(0,r.jsx)("option",{value:"footer",children:"Footer"})]})]}),"footer"==l.location&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"targetColumn",className:"form-label",children:"Column *"}),(0,r.jsxs)("select",{className:"form-control",onChange:d,id:"targetColumn",name:"targetColumn",value:l.targetColumn||"",children:[(0,r.jsx)("option",{value:"column1",children:"Column 1"}),(0,r.jsx)("option",{value:"column2",children:"Column 2"}),(0,r.jsx)("option",{value:"column3",children:"Column 3"}),(0,r.jsx)("option",{value:"bottom_line",children:"Bottom Line"})]})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title *"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:l.title||"",onChange:d,required:!0})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"title",className:"form-label",children:"Url *"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"url",name:"url",value:l.url||"",onChange:d,required:!0})]}),(0,r.jsx)("div",{className:"row mb-3",children:(0,r.jsxs)("div",{className:"col-md-12",children:[(0,r.jsx)("label",{htmlFor:"metaTitle",className:"form-label",children:"Sort Order"}),(0,r.jsx)("input",{type:"number",className:"form-control",id:"order",name:"order",value:l.order||"",onChange:d})]})}),(0,r.jsxs)("div",{className:"mb-3 form-check",children:[(0,r.jsx)("input",{type:"checkbox",className:"form-check-input",id:"targetWindow",name:"targetWindow",checked:l.targetWindow,onChange:e=>o({...l,targetWindow:e.target.checked})}),(0,r.jsx)("label",{className:"form-check-label",htmlFor:"targetWindow",children:"Open In New Window"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("button",{type:"submit",className:"btn btn-primary me-2",disabled:s,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):"Save Menu"}),(0,r.jsx)("a",{href:"/admin/menus",className:"btn btn-outline-secondary",children:"Cancel"})]})]})}},7383:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{A:()=>a});var a=function e(t,n){function a(e,a,s){if("undefined"!=typeof document){"number"==typeof(s=r({},n,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var o in s){if(s[o])l+="; "+o,!0!==s[o]&&(l+="="+s[o].split(";")[0])}return document.cookie=e+"="+t.write(a,e)+l}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var s=n[a].split("="),l=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(r[o]=t.read(l,o),e===o)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){a(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},7390:(e,t,n)=>{"use strict";n.d(t,{Wz:()=>i,oU:()=>o});var r=n(2115);n(5155);let a=r.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:s,Provider:l}=a;function o(e,t){let{prefixes:n}=(0,r.useContext)(a);return e||n[t]||t}function i(){let{dir:e}=(0,r.useContext)(a);return"rtl"===e}},8109:(e,t,n)=>{Promise.resolve().then(n.bind(n,2079))},9300:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}(n)))}return e}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0!==(n=(function(){return a}).apply(t,[]))&&(e.exports=n)}()}},e=>{var t=t=>e(e.s=t);e.O(0,[5799,6813,5319,8441,1684,7358],()=>t(8109)),_N_E=e.O()}]);