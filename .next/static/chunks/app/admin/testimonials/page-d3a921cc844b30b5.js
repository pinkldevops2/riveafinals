(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{423:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155),i=s(2115),n=s(9587),o=s(9568);function r(e){let{id:t,msg:s,onDelete:r}=e,[l,d]=(0,i.useState)(!1),c=()=>d(!1),m=async()=>{await r(t),c()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>d(!0),className:"btn text-danger",children:(0,a.jsx)("i",{className:"fa fas fa-trash"})}),(0,a.jsxs)(n.A,{show:l,onHide:c,centered:!0,children:[(0,a.jsx)(n.A.Header,{closeButton:!0,children:(0,a.jsx)(n.A.Title,{children:"Confirm Delete"})}),(0,a.jsx)(n.A.Body,{children:s}),(0,a.jsxs)(n.A.Footer,{children:[(0,a.jsx)(o.A,{variant:"secondary",onClick:c,children:"Cancel"}),(0,a.jsx)(o.A,{variant:"danger",onClick:m,children:"Delete"})]})]})]})}},2953:(e,t,s)=>{"use strict";s.d(t,{GW:()=>o,aN:()=>n,fI:()=>r,r$:()=>l,t1:()=>i});let a="http://localhost:8181/api",i=async(e,t,s,i,n)=>(await fetch(a+"/testimonials?search=".concat(e,"&page=").concat(t,"&limit=").concat(s,"&sortColumn=").concat(i,"&sortOrder=").concat(n),{credentials:"include"})).json(),n=async e=>(await fetch("".concat(a,"/testimonials/").concat(e),{credentials:"include"})).json(),o=async e=>{let t=new FormData;return t.append("title",e.title),t.append("description",e.description),e.categories.forEach(e=>{t.append("categories",e)}),t.append("type",e.type),t.append("order",e.order),"image"==e.type&&e.testimonialPhoto&&e.testimonialPhoto.length>0&&t.append("file",e.testimonialPhoto[0]),"video"==e.type&&(e.testimonialVideo&&e.testimonialVideo.length>0&&t.append("video",e.testimonialVideo[0]),e.testimonialVideoPoster&&e.testimonialVideoPoster.length>0&&t.append("videoPoster",e.testimonialVideoPoster[0])),(await fetch("".concat(a,"/testimonials/create"),{method:"POST",credentials:"include",body:t})).json()},r=async(e,t)=>{let s=new FormData;return s.append("title",t.title),s.append("description",t.description),t.categories.forEach(e=>{s.append("categories",e)}),s.append("type",t.type),s.append("order",t.order),s.append("slug",t.slug),"image"==t.type&&t.testimonialPhoto&&t.testimonialPhoto.length>0&&s.append("file",t.testimonialPhoto[0]),"video"==t.type&&(t.testimonialVideo&&t.testimonialVideo.length>0&&s.append("video",t.testimonialVideo[0]),t.testimonialVideoPoster&&t.testimonialVideoPoster.length>0&&s.append("videoPoster",t.testimonialVideoPoster[0])),(await fetch("".concat(a,"/testimonials/update/").concat(e),{method:"PUT",credentials:"include",body:s})).json()},l=async e=>(await fetch("".concat(a,"/testimonials/delete/").concat(e),{method:"DELETE",credentials:"include"})).json()},5152:(e,t,s)=>{Promise.resolve().then(s.bind(s,6633))},6633:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(5155),i=s(2115),n=s(5695),o=s(8835),r=s(2953),l=s(4751),d=s(5828),c=s(7478),m=s(423),h=s(6874),p=s.n(h),g=s(5799),u=s(1867),x=s(7124);let f="http://localhost:8181";function j(){let[e,t]=(0,i.useState)(null),s=(0,n.useRouter)(),[h,j]=(0,i.useState)([]),[y,v]=(0,i.useState)(null),[b,w]=(0,i.useState)(!0),[N,P]=(0,i.useState)(0),[S,A]=(0,i.useState)(1),[C,E]=(0,i.useState)(10),[V,_]=(0,i.useState)("_id"),[T,k]=(0,i.useState)("asc"),[F,D]=(0,i.useState)("");(0,i.useEffect)(()=>{(0,o.E$)().then(e=>{e.error?s.push("/admin/login"):(w(!1),t(e))})},[]);let O=async e=>{try{let t=await (0,r.r$)(e);!1==t.success?g.oR.error(t.error):(g.oR.success("Testimonial deleted successfully."),K(S,C,V,T))}catch(e){v("error deleting page"),console.error(e)}},K=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_id",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asc",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";try{(0,r.t1)(i,e,t,s,a).then(e=>{e.data&&(j(e.data),P(e.total))})}catch(e){console.error("Error fetching users:",e)}finally{}};(0,i.useEffect)(()=>{K(S,C,V,T,F)},[S,C,V,T,F]);let R=[{name:"Title",selector:e=>e.title,sortable:!0,sortKey:"title"},{name:"Type",selector:e=>e.type,sortable:!0,sortKey:"type"},{name:"Order",selector:e=>e.order,sortable:!0,sortKey:"order"},{name:"Image",cell:e=>(0,a.jsx)(a.Fragment,{children:"image"==e.type&&void 0!=e.image&&""!=e.image?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"mr-3 p-2",children:(0,a.jsx)("img",{src:f+"/"+e.image,width:48,alt:"Image of the testimonial"})})}):"video"==e.type&&void 0!=e.videoPoster&&""!=e.videoPoster?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"mr-3 p-2",children:(0,a.jsx)("img",{src:f+"/"+e.videoPoster,width:48,alt:"video poster image"})})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"mr-3 p-2",children:(0,a.jsx)("img",{src:f+"/uploads/images/undraw_profile.svg",width:48,alt:"Image of the testimonial"})})})}),sortable:!1,sortKey:"image"},{name:"Actions",cell:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p(),{className:"btn text-primary",href:"/admin/testimonials/"+e._id,children:(0,a.jsx)("i",{className:"fa fas fa-pen"})}),(0,a.jsx)(m.A,{id:e._id,onDelete:O,msg:"Are you sure you want to delete this testimonial?"})]})}];return b?(0,a.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100",children:(0,a.jsx)(u.A,{animation:"border",variant:"primary"})}):(0,a.jsxs)("div",{id:"wrapper",children:[(0,a.jsx)(l.A,{}),(0,a.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:(0,a.jsxs)("div",{id:"content",children:[(0,a.jsx)(c.A,{}),(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:[(0,a.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Testimonials"}),(0,a.jsx)("div",{children:(0,a.jsxs)("form",{className:"search-form admin-search",children:[(0,a.jsx)("input",{type:"text",onChange:e=>{D(e.target.value)},name:"search",placeholder:"Search"}),(0,a.jsx)("button",{type:"button",className:"search_btn",children:(0,a.jsx)("img",{src:"/images/icon-search.svg"})})]})})]}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-xl-12 col-md-12 mb-4",children:(0,a.jsxs)("div",{className:"card shadow mb-4",children:[(0,a.jsxs)("div",{className:"card-header py-3 d-flex justify-content-between",children:[(0,a.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Testimonials"}),(0,a.jsxs)(p(),{className:"btn btn-dark btn-sm",href:"/admin/testimonials/add",children:[(0,a.jsx)("i",{className:"fa fa-plus"})," Add New Testimonial"]})]}),(0,a.jsx)("div",{className:"card-body p-0",children:(0,a.jsx)("div",{className:"table-responsive",children:(0,a.jsx)(x.Ay,{columns:R,data:h,pagination:!0,paginationServer:!0,paginationTotalRows:N,paginationPerPage:C,onChangePage:e=>{A(e)},onChangeRowsPerPage:(e,t)=>{E(e),A(t)},onSort:(e,t)=>{_(e.sortKey),k(t)},sortServer:!0,highlightOnHover:!0,striped:!0,customStyles:{headCells:{style:{backgroundColor:"#fff",color:"#858796",fontSize:"16px",fontWeight:"bold",padding:"12px"}},cells:{style:{fontSize:"14px"}},rows:{style:{fontSize:"14px",borderBottom:"1px solid #ddd","&:hover":{backgroundColor:"#f1f1f1"}}}}})})})]})})})]}),(0,a.jsx)(d.A,{})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5799,6813,2467,5319,8441,1684,7358],()=>t(5152)),_N_E=e.O()}]);