(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2948],{7298:(e,s,r)=>{Promise.resolve().then(r.bind(r,9704))},9704:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>h});var a=r(5155),i=r(2115),l=r(5695),t=r(8835),c=r(4751),n=r(5828),d=r(7478),o=r(3270),u=r(7873),m=r(5799);function h(){let[e,s]=(0,i.useState)(null),r=(0,l.useRouter)(),[h,x]=(0,i.useState)(!1),[f,j]=(0,i.useState)(null),[p,v]=(0,i.useState)({name:"",title:"",metaTitle:"",metaDescription:"",profilePhoto:null,image:"",slug:"",order:"0",description:""}),b=async e=>{try{x(!0),j(null),await (0,o.Zg)(e).then(e=>{e.error?(m.oR.error(e.error),j(e.error||"Failed to create a resource")):(m.oR.success("Resource added successfully."),r.push("/admin/resources"))})}catch(e){m.oR.error("Failed to create a resource")}finally{x(!1)}};return(0,i.useEffect)(()=>{(0,t.E$)().then(e=>{e.error?r.push("/admin/login"):s(e)})},[]),(0,a.jsxs)("div",{id:"wrapper",children:[(0,a.jsx)(c.A,{}),(0,a.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:(0,a.jsxs)("div",{id:"content",children:[(0,a.jsx)(d.A,{}),(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsx)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,a.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"Add Resource"})}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-xl-12 col-md-12 mb-12",children:(0,a.jsx)("div",{className:"card border-left-primary shadow h-100 py-2",children:(0,a.jsx)("div",{className:"card-body",children:(0,a.jsx)(u.A,{initialData:p,onSubmit:b,isSubmitting:h})})})})})]}),(0,a.jsx)(n.A,{})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[5799,6813,2177,5319,4862,8441,1684,7358],()=>s(7298)),_N_E=e.O()}]);