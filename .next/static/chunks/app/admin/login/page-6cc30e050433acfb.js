(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2116],{1527:(e,t,r)=>{Promise.resolve().then(r.bind(r,5430))},5430:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(5155),n=r(2115),s=r(5695),o=r(8835),i=r(5799);function c(){let[e,t]=(0,n.useState)(""),[r,c]=(0,n.useState)(""),[l,d]=(0,n.useState)(""),u=(0,s.useRouter)();(0,n.useEffect)(()=>{},[]);let m=async t=>{t.preventDefault();try{let t=await (0,o.iD)(e,r);t.message?(localStorage.setItem("userData",JSON.stringify(t)),u.push("/admin")):i.oR.error(t.error)}catch(e){var a,n;i.oR.error((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"Login failed")}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("section",{className:"vh-100",style:{backgroundColor:"#f6f9ff"},children:(0,a.jsx)("div",{className:"container py-5 h-100",children:(0,a.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:(0,a.jsxs)("div",{className:"col-12 col-md-8 col-lg-6 col-xl-5",children:[(0,a.jsx)("div",{className:"mb-3 text-center",children:(0,a.jsx)("img",{src:"/images/RIVEA_Logo.svg",alt:""})}),(0,a.jsx)("div",{className:"card shadow-2-strong",style:{borderRadius:"1rem"},children:(0,a.jsxs)("div",{className:"card-body p-5 text-center",children:[(0,a.jsx)("h3",{className:"mb-5",children:"Sign in"}),(0,a.jsxs)("form",{onSubmit:m,className:"",children:[(0,a.jsxs)("div",{"data-mdb-input-init":!0,className:"form-outline mb-4",children:[(0,a.jsx)("label",{className:"form-label d-flex",htmlFor:"email",children:"Email address"}),(0,a.jsx)("input",{type:"email",id:"email",placeholder:"Email",value:e,required:!0,onChange:e=>t(e.target.value),className:"form-control form-control-lg"})]}),(0,a.jsxs)("div",{"data-mdb-input-init":!0,className:"form-outline mb-4",children:[(0,a.jsx)("label",{className:"form-label d-flex",htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",placeholder:"Password",value:r,required:!0,onChange:e=>c(e.target.value),className:"form-control form-control-lg"})]}),(0,a.jsx)("div",{className:"pt-1 mb-4 w-25",children:(0,a.jsx)("button",{type:"submit",className:"btn d-flex btn-dark btn-lg btn-block",children:"Login"})})]}),l&&(0,a.jsx)("p",{className:"text-danger",children:l})]})})]})})})})})}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},7383:(e,t,r)=>{"use strict";function a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}r.d(t,{A:()=>n});var n=function e(t,r){function n(e,n,s){if("undefined"!=typeof document){"number"==typeof(s=a({},r,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in s){if(s[i])o+="; "+i,!0!==s[i]&&(o+="="+s[i].split(";")[0])}return document.cookie=e+"="+t.write(n,e)+o}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],a={},n=0;n<r.length;n++){var s=r[n].split("="),o=s.slice(1).join("=");try{var i=decodeURIComponent(s[0]);if(a[i]=t.read(o,i),e===i)break}catch(e){}}return e?a[e]:a}},remove:function(e,t){n(e,"",a({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,a({},this.attributes,t))},withConverter:function(t){return e(a({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},8835:(e,t,r)=>{"use strict";r.d(t,{E$:()=>i,iD:()=>s,ri:()=>o});var a=r(7383);let n="http://localhost:8181/api",s=async(e,t)=>(await fetch(n+"/auth/signin",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})})).json(),o=async()=>{await fetch(n+"/auth/signout",{method:"POST",credentials:"include"}),a.A.remove("auth_token"),localStorage.removeItem("userData")},i=async()=>(await fetch(n+"/auth/profile",{credentials:"include"})).json()}},e=>{var t=t=>e(e.s=t);e.O(0,[5799,8441,1684,7358],()=>t(1527)),_N_E=e.O()}]);