(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4862],{1867:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(9300),a=r.n(s),i=r(2115),n=r(7390),l=r(5155);let o=i.forwardRef((e,t)=>{let{bsPrefix:r,variant:s,animation:i="border",size:o,as:c="div",className:d,...m}=e;r=(0,n.oU)(r,"spinner");let u="".concat(r,"-").concat(i);return(0,l.jsx)(c,{ref:t,...m,className:a()(d,u,o&&"".concat(u,"-").concat(o),s&&"text-".concat(s))})});o.displayName="Spinner";let c=o},3270:(e,t,r)=>{"use strict";r.d(t,{QH:()=>a,Uh:()=>l,Zg:()=>n,m6:()=>i,o8:()=>o});let s="http://localhost:8181/api",a=async(e,t,r,a,i)=>(await fetch(s+"/resources?search=".concat(e,"&page=").concat(t,"&limit=").concat(r,"&sortColumn=").concat(a,"&sortOrder=").concat(i),{credentials:"include"})).json(),i=async e=>(await fetch("".concat(s,"/resources/").concat(e),{credentials:"include"})).json(),n=async e=>{let t=new FormData;return t.append("name",e.name),t.append("title",e.title),t.append("order",e.order),t.append("description",e.description),t.append("metaTitle",e.metaTitle),t.append("metaDescription",e.metaDescription),e.profilePhoto&&e.profilePhoto.length>0&&t.append("file",e.profilePhoto[0]),(await fetch("".concat(s,"/resources/create"),{method:"POST",credentials:"include",body:t})).json()},l=async(e,t)=>{let r=new FormData;return r.append("name",t.name),r.append("title",t.title),r.append("order",t.order),r.append("slug",t.slug),r.append("description",t.description),r.append("metaTitle",t.metaTitle),r.append("metaDescription",t.metaDescription),t.profilePhoto&&t.profilePhoto.length>0&&r.append("file",t.profilePhoto[0]),(await fetch("".concat(s,"/resources/update/").concat(e),{method:"PUT",credentials:"include",body:r})).json()},o=async e=>(await fetch("".concat(s,"/resources/delete/").concat(e),{method:"DELETE",credentials:"include"})).json()},6273:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5155),a=r(2115);let i="http://localhost:8181/api";function n(e){let{value:t,onChange:r}=e,n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=(e,t)=>new Promise((r,s)=>{let a=new XMLHttpRequest;a.withCredentials=!0,a.open("POST",i+"/upload_image"),a.upload.onprogress=e=>{t(e.loaded/e.total*100)},a.onload=()=>{if(403===a.status){s({message:"HTTP Error: "+a.status,remove:!0});return}if(a.status<200||a.status>=300){s("HTTP Error: "+a.status);return}let e=JSON.parse(a.responseText);if(!e||"string"!=typeof e.location){s("Invalid JSON: "+a.responseText);return}r("http://localhost:8181/"+e.location)},a.onerror=()=>{s("Image upload failed due to a XHR Transport error. Code: "+a.status)};let n=new FormData;n.append("file",e.blob(),e.filename()),a.send(n)}),t=document.createElement("script");return t.src="/assets/js/vendor/tinymce/tinymce.min.js",t.referrerPolicy="origin",t.onload=()=>{window.tinymce.init({selector:"#editor",height:400,menubar:!0,plugins:"code advlist autolink lists link image charmap preview anchor",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | code",extended_valid_elements:"script[src|async|defer|type|charset]",valid_children:"+body[script]",valid_elements:"*[*]",content_css:"/assets/css/bootstrap.min.css,/assets/css/custom.css,/assets/css/responsive.css,/assets/css/extra.css",allow_script_urls:!0,images_upload_url:i+"/upload_image",images_upload_handler:e,setup:e=>{e.on("change",()=>r(e.getContent()))}})},document.body.appendChild(t),()=>{window.tinymce&&window.tinymce.remove()}},[r]),(0,s.jsx)("textarea",{id:"editor",ref:n,defaultValue:t})}},7383:(e,t,r)=>{"use strict";function s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}r.d(t,{A:()=>a});var a=function e(t,r){function a(e,a,i){if("undefined"!=typeof document){"number"==typeof(i=s({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var l in i){if(i[l])n+="; "+l,!0!==i[l]&&(n+="="+i[l].split(";")[0])}return document.cookie=e+"="+t.write(a,e)+n}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],s={},a=0;a<r.length;a++){var i=r[a].split("="),n=i.slice(1).join("=");try{var l=decodeURIComponent(i[0]);if(s[l]=t.read(n,l),e===l)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){a(e,"",s({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,s({},this.attributes,t))},withConverter:function(t){return e(s({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},7390:(e,t,r)=>{"use strict";r.d(t,{Wz:()=>o,oU:()=>l});var s=r(2115);r(5155);let a=s.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:i,Provider:n}=a;function l(e,t){let{prefixes:r}=(0,s.useContext)(a);return e||r[t]||t}function o(){let{dir:e}=(0,s.useContext)(a);return"rtl"===e}},7873:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(5155),a=r(2177),i=r(2115),n=r(6874),l=r.n(n),o=r(6273);let c=e=>{var t,r,n,c,d,m,u,p,h,f,v,g,x,b,j,N;let{initialData:y,onSubmit:w,isSubmitting:S}=e,{register:T,handleSubmit:C,reset:D,getValues:P,setValue:_,formState:{errors:U}}=(0,a.mN)({defaultValues:{name:"",title:"",metaTitle:"",metaDescription:"",profilePhoto:null,image:"",slug:"",order:"0",description:"",...y}}),[q,E]=(0,i.useState)(""),[F,I]=(0,i.useState)(null);return(0,i.useEffect)(()=>{_("description",q)},[q]),(0,i.useEffect)(()=>{y&&y.description&&E(y.description)},[]),(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("form",{onSubmit:C(e=>{w(e)}),encType:"multipart/form-data",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"name",className:"form-label",children:"Author *"}),(0,s.jsx)("input",{type:"text",className:"form-control",...T("name",{required:"Author is required",minLength:{value:3,message:"Must be at least 3 characters"}})}),U.name&&(0,s.jsx)("small",{className:"text-danger",children:null===(r=U.name)||void 0===r?void 0:null===(t=r.message)||void 0===t?void 0:t.toString()})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title *"}),(0,s.jsx)("input",{type:"text",className:"form-control",...T("title",{required:"Title is required",minLength:{value:3,message:"Must be at least 3 characters"}})}),U.title&&(0,s.jsx)("small",{className:"text-danger",children:null===(c=U.title)||void 0===c?void 0:null===(n=c.message)||void 0===n?void 0:n.toString()})]}),y&&""!==y.slug&&(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"slug",className:"form-label",children:"Slug *"}),(0,s.jsx)("input",{type:"text",className:"form-control",...T("slug",{required:"Slug is required"})}),U.slug&&(0,s.jsx)("small",{className:"text-danger",children:null===(m=U.slug)||void 0===m?void 0:null===(d=m.message)||void 0===d?void 0:d.toString()})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{htmlFor:"image",className:"form-label",children:"Image *"}),(0,s.jsxs)("div",{className:"btn-main-box",children:[(0,s.jsx)("input",{type:"file",className:"file-input",...T("profilePhoto",{required:!F&&(null==y||!y.image)&&"Image is required"}),onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&I(URL.createObjectURL(r))}}),(0,s.jsx)("div",{className:"btn-box",children:"Upload Image"})]}),F&&(0,s.jsx)("img",{src:F,alt:"Image Preview",className:"mt-3",width:100}),!F&&y&&y.image&&(0,s.jsx)("img",{src:"http://localhost:8181/"+y.image,alt:"Image Preview",className:"mt-3",width:100}),!F&&U.profilePhoto&&(0,s.jsx)("small",{className:"text-danger",children:null===(p=U.profilePhoto)||void 0===p?void 0:null===(u=p.message)||void 0===u?void 0:u.toString()})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Description"}),(0,s.jsx)(o.A,{value:P("description"),onChange:E}),U.description&&(0,s.jsx)("small",{className:"text-danger",children:null===(f=U.description)||void 0===f?void 0:null===(h=f.message)||void 0===h?void 0:h.toString()})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Order"}),(0,s.jsx)("input",{type:"number",min:"0",className:"form-control",...T("order",{})}),U.order&&(0,s.jsx)("small",{className:"text-danger",children:null===(g=U.order)||void 0===g?void 0:null===(v=g.message)||void 0===v?void 0:v.toString()})]}),(0,s.jsx)("div",{className:"row mb-3",children:(0,s.jsxs)("div",{className:"col-md-12",children:[(0,s.jsx)("label",{htmlFor:"metaTitle",className:"form-label",children:"Meta Title *"}),(0,s.jsx)("input",{type:"text",className:"form-control",placeholder:"Meta Title",...T("metaTitle",{required:"Meta Title is required."})}),U.metaTitle&&(0,s.jsx)("p",{className:"text-red-500",children:null===(b=U.metaTitle)||void 0===b?void 0:null===(x=b.message)||void 0===x?void 0:x.toString()})]})}),(0,s.jsx)("div",{className:"row mb-3",children:(0,s.jsxs)("div",{className:"col-md-12",children:[(0,s.jsx)("label",{htmlFor:"metaDescription",className:"form-label",children:"Meta Description *"}),(0,s.jsx)("textarea",{className:"form-control",placeholder:"Meta Description",...T("metaDescription",{required:"Meta Description is required."})}),U.metaDescription&&(0,s.jsx)("p",{className:"text-red-500",children:null===(N=U.metaDescription)||void 0===N?void 0:null===(j=N.message)||void 0===j?void 0:j.toString()})]})}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary me-2",disabled:S,children:S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):"Save"}),(0,s.jsx)(l(),{className:"btn btn-outline-secondary ml-2",href:"/admin/resources/",children:"Cancel"})]})})}},9300:(e,t)=>{var r;!function(){"use strict";var s={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)s.call(e,r)&&e[r]&&(t=i(t,r));return t}(r)))}return e}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0!==(r=(function(){return a}).apply(t,[]))&&(e.exports=r)}()}}]);